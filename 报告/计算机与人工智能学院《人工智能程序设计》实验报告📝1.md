## ![img](https://cnchen2000.oss-cn-shanghai.aliyuncs.com/img/logo.png)      计算机与人工智能学院《人工智能程序设计》实验报告📝

| 专业                 | 学号         | 姓名         |
| :------------------- | ------------ | ------------ |
| 数据科学与大数据技术 | 2301230818   | 邓逸轩       |
| **课程名称**         | **实验名称** | **完成日期** |
| 专业综合训练I        | 实训一       | 2025.3.15    |



[TOC]

---



### 一 实验目标

​	本次实验有几个要点：

- 掌握python变量的使用
- 函数定义和调用
- 控制语句运用
- 使用布尔运算符的特性
- 处理常见错误信息

---



### 二 实验要求

- 个人独立完成，积极动手编程；
- 鼓励与同学交流，但不能抄袭源码；
- 能完成实验说明文档的各个步骤并撰写此实验报告；
- 能演示实验过程并阐述功能的主要代码模块。
- 实验报告请突出自己的**想法**、**做法**、**心得体会**；

---



### 三 实验环境

​	我所使用的实验环境：

- 使用VScode进行编写代码，并使用conda配置python的虚拟环境进行运行
- 使用Typora进行编写Markdown的记录文档

---



### 四 实验内容 

1. 函数定义

   - **`a_plus_abs_b`函数**：该函数的目标是在不调用`abs`函数的情况下，实现计算`a + abs(b)`的功能。通过判断`b`的正负性，决定是执行加法还是减法操作来达到与`a + abs(b)`相同的结果。
   - **`two_of_three`函数**：此函数接收三个正整数`i`、`j`、`k`，返回其中两个较小数的平方和
   - **`largest_factor`函数**：用于返回小于`n`的最大因数。

2. 函数功能实现

   - `a_plus_abs_b`函数：根据我们对这个函数功能的需求，我们发现只需要在事前判断需要取绝对值b的正负就可以。同时运用函数编程的思想，将f函数作为一个对象返回出去。所以我这样处理：

     ```python
     def a_plus_abs_b(a, b):
         if b < 0:
             f = sub
         else:
             f = add
         return f
     ```

   - `two_of_three`函数**：根据需求。我们只需要算出所有数字的平方和，然后利用max函数算出最大数字的平方和减去就可以了。

     ```python
     def two_of_three(i, j, k):
         return i**2 + j**2 + k**2 - max(i, j, k)**2
     
     ```

     

   - `largest_factor`函数：根据需求，我们首先需要计算出因数。计算因数最常见的方法就是1开始进行迭代，可以整除给定n的数字就是因数。由于我们需要计算最大的因数，而这个因数不可以是自身，所以利用range，我们创建一个从本身n-1开始（否则就会计算出来是n本身）的一个逆向长度为n-1的一个list，然后进行迭代计算即可。

     ```python
     def largest_factor(n):
         for i in range(n-1, 0, -1):
             if n % i == 0:
                 return i
     ```

     

3. 函数语法检查

   - **`a_plus_abs_b_syntax_check`函数**：该函数使用`inspect`和`re`模块，检查`a_plus_abs_b`函数的源代码，确保其返回语句为`return f(a, b)`，防止对返回语句进行意外修改。
   - **`two_of_three_syntax_check`函数**：借助`inspect`和`ast`模块，检查`two_of_three`函数的代码结构，确认其主体仅包含一个表达式和一个返回语句，保证函数代码结构的规范性。

4. 测试用例验证

   - 针对`a_plus_abs_b`函数，提供了多组测试用例，如`(2, 3)`、`(2, -3)`、`(-1, 4)`、`(-1, -4)`，验证在不同输入情况下函数能否正确返回`a + abs(b)`的结果。
   - 对于`two_of_three`函数，同样给出了`(1, 2, 3)`、`(5, 3, 1)`、`(10, 2, 8)`、`(5, 5, 5)`等测试用例，检查函数是否能准确计算出两个较小数的平方和。
   - `largest_factor`函数也配备了`(15)`、`(80)`、`(13)`等测试用例，验证函数能否正确找出小于给定数的最大因数。通过这些测试用例，可以全面地检验函数的正确性和稳定性，确保函数在各种情况下都能按预期工作 。

---



### 五 实验心得

#### 环境配置	

首先是对于**实验环境**的配置，根据老师课上讲的，我在本地环境内部尝试使用如下命令进行配置

```Terminal
python3 ok -q --local two_of_three
```

没有运行成功，一开始报错了缺库，大概看了一下配置脚本里面的内容，大概对应需要了request和urllib3的库，配置过后发现没有运行成功，还是报缺库。由于这种情况比较罕见，我一开始使用的是配置的一个文件夹下面的python，更换了两次之后使用conda工具创建了一个虚拟环境，发现这个问题有改善。遂解决。

但是之后我更换了一次实验环境，使用windsurf对这个文件进行编译，还是出现了这个问题，我让agent帮我去自动配置，除了使用python的doctest进行测试之外，agent提示可能在ok脚本里面用了一些只有低版本的python库配置，推荐了一个3.6版本的python（我自己的是3.13最新版本），考虑到python确实可能出现这种因为版本过高导致没有办法运行的问题XD,我下载了一个3.6版本的python，同样解决了这个问题。

（这个问题的出现可能是我没有去这个lab的官网详细阅读，不过我在看ok脚本里面确实发现了有一个关于python的版本说明的一段话，不过没有说明版本高的问题，只说明了需要3.4版本以上的python的问题）

#### Markdown语言

之前尝试用其他支持Markdown语言的笔记软件，例如Notion或者Obsidian，因为他们支持更好更多的插件功能，并且Typora是一个需要买断的付费软件，不过考虑到这两个笔记软件我之前没有云服务导致非付费不可以多设备同步，我还是去下载了一个Typora。




