## ![img](https://cnchen2000.oss-cn-shanghai.aliyuncs.com/img/logo.png)      è®¡ç®—æœºä¸Žäººå·¥æ™ºèƒ½å­¦é™¢ã€Šäººå·¥æ™ºèƒ½ç¨‹åºè®¾è®¡ã€‹å®žéªŒæŠ¥å‘ŠðŸ“

| ä¸“ä¸š                 | å­¦å·         | å§“å         |
| :------------------- | ------------ | ------------ |
| æ•°æ®ç§‘å­¦ä¸Žå¤§æ•°æ®æŠ€æœ¯ | 2302320122   | èƒ¡æ–‡éŸ¬       |
| **è¯¾ç¨‹åç§°**         | **å®žéªŒåç§°** | **å®Œæˆæ—¥æœŸ** |
| äººå·¥æ™ºèƒ½ç¨‹åºè®¾è®¡A        | hw03       | 2025.3.20    |



[TOC]

---



### ä¸€ å®žéªŒç›®æ ‡

â€‹	å­¦ä¹ å’Œå®žè·µé€’å½’ã€æ ‘é€’å½’çš„ä½¿ç”¨ï¼Œé€šè¿‡ç¼–å†™å’Œæµ‹è¯•å¤šä¸ªå‡½æ•°æ¥æŽŒæ¡ä»¥ä¸‹æ ¸å¿ƒæ¦‚å¿µå’ŒæŠ€èƒ½ï¼š

- é€’å½’å’Œæ ‘é€’å½’çš„ç†è§£ä¸Žåº”ç”¨
- é€’å½’å’Œæ ‘é€’å½’ç¼–ç¨‹å®žè·µ


---



### äºŒ å®žéªŒè¦æ±‚

- ä¸ªäººç‹¬ç«‹å®Œæˆï¼Œç§¯æžåŠ¨æ‰‹ç¼–ç¨‹ï¼›
- é¼“åŠ±ä¸ŽåŒå­¦äº¤æµï¼Œä½†ä¸èƒ½æŠ„è¢­æºç ï¼›
- èƒ½å®Œæˆå®žéªŒè¯´æ˜Žæ–‡æ¡£çš„å„ä¸ªæ­¥éª¤å¹¶æ’°å†™æ­¤å®žéªŒæŠ¥å‘Šï¼›
- èƒ½æ¼”ç¤ºå®žéªŒè¿‡ç¨‹å¹¶é˜è¿°åŠŸèƒ½çš„ä¸»è¦ä»£ç æ¨¡å—ã€‚
- å®žéªŒæŠ¥å‘Šè¯·çªå‡ºè‡ªå·±çš„**æƒ³æ³•**ã€**åšæ³•**ã€**å¿ƒå¾—ä½“ä¼š**ï¼›

---



### ä¸‰ å®žéªŒçŽ¯å¢ƒ

- è½¯ä»¶ï¼šVs code
- çŽ¯å¢ƒï¼špython=3.10

---



### å›› å®žéªŒå†…å®¹ 

åŸºäºŽå‡ ä¸ªé—®é¢˜ï¼Œé€šè¿‡ç¼–å†™å‡½æ•°æ¥å·©å›ºå’Œç»ƒä¹ é€’å½’ã€æ ‘é€’å½’çš„ä½¿ç”¨ã€‚

### 1. **`Neighbor Digits`å‡½æ•°**

å‡½æ•°è¦æ±‚ï¼šå®žçŽ°å‡½æ•° neighbor_digits , è¯¥å‡½æ•°æŽ¥å—ä¸€ä¸ªæ­£æ•´æ•° num ï¼Œå’Œä¸€ä¸ªå¯é€‰å‚æ•° prev_digits ï¼Œè¾“å‡º num ä¸­å·¦è¾¹æˆ–è€…å³è¾¹ç›¸åŒæ•°ä½ï¼ˆdigitï¼‰çš„æ•°é‡

**ä»£ç å®žçŽ°**ï¼š

```python
def neighbor_digits(num, prev_digit=-1):
    """
    Returns the number of digits in num that have the same digit to its right
    or left.
    >>> neighbor_digits(111)
    3
    >>> neighbor_digits(123)
    0
    >>> neighbor_digits(112)
    2
    >>> neighbor_digits(1122)
    4
    """
    s = str(num)
    count = 0
    for i in range(len(s)):
        if (i > 0 and s[i] == s[i-1]) or (i < len(s)-1 and s[i] == s[i+1]):
            count += 1
    return count
```

æµ‹è¯•ç»“æžœ:
![img](https://github.com/Victor-Tau/cs61a/blob/master/%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/figs/hw03/hw3-1.png?raw=True)

---

### 2. **`Has Subsequence`å‡½æ•°**

å®žçŽ°å‡½æ•° `has_subseq` ï¼Œè¯¥å‡½æ•°æŽ¥å—ä¸€ä¸ªæ•°å­— `n` å’Œ ä¸€ä¸ª â€œåºåˆ—â€ çš„æ•°ä½ `seq` ï¼Œè¿”å›ž `n` æ˜¯å¦åŒ…å« `seq` å­åºåˆ—ï¼Œå¹¶**ä¸è¦æ±‚è¿žç»­**ã€‚

ä¾‹å¦‚ï¼Œ`141` åŒ…å«åºåˆ— `11` ï¼Œå› ä¸ºåºåˆ—çš„ç¬¬ä¸€ä¸ªæ•°ä½ `1` æ˜¯ `141` çš„ç¬¬ä¸€ä¸ªæ•°ä½ï¼Œåºåˆ—ä¸­çš„ç¬¬äºŒä¸ªæ•°ä½ `1` ä¹Ÿåœ¨ `141` åŽé¢å‡ºçŽ°äº†ã€‚

**ä»£ç å®žçŽ°**ï¼š

```python
def has_subseq(n, seq):
    """
    Complete has_subseq, a function which takes in a number n and a "sequence"
    of digits seq and returns whether n contains seq as a subsequence, which
    does not have to be consecutive.

    >>> has_subseq(123, 12)
    True
    >>> has_subseq(141, 11)
    True
    >>> has_subseq(144, 12)
    False
    >>> has_subseq(144, 1441)
    False
    >>> has_subseq(1343412, 134)
    True
    """
    n_str = str(n)
    seq_str = str(seq)
    seq_index = 0
    for char in n_str:
        if seq_index < len(seq_str) and char == seq_str[seq_index]:
            seq_index += 1
    return seq_index == len(seq_str)

```

æµ‹è¯•ç»“æžœï¼š![img](https://github.com/Victor-Tau/cs61a/blob/master/%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/figs/hw03/hw3-2.png?raw=True)

---

### 3. **`Num eights`**

å‡½æ•°è¦æ±‚ï¼š
ç¼–å†™é€’å½’å‡½æ•° `num_eights` ï¼Œè¯¥å‡½æ•°æŽ¥å—ä¸€ä¸ªæ­£æ•´æ•° `pos`ï¼Œè¿”å›ž `pos` ä¸­æ•°ä½ 8å‡ºçŽ°çš„æ¬¡æ•°ã€‚

**æ³¨æ„**ï¼šä½¿ç”¨é€’å½’ï¼›å¦‚æžœä½ ä½¿ç”¨ä»»ä½•çš„èµ‹å€¼è¯­å¥æµ‹è¯•å°†å¤±è´¥ã€‚ï¼ˆä½†ä½ å¯ä»¥å°½ç®¡ä½¿ç”¨å‡½æ•°å®šä¹‰ï¼‰

**ä»£ç å®žçŽ°**ï¼š

```python
def num_eights(pos):
    """Returns the number of times 8 appears as a digit of pos.

    >>> num_eights(3)
    0
    >>> num_eights(8)
    1
    >>> num_eights(88888888)
    8
    >>> num_eights(2638)
    1
    >>> num_eights(86380)
    2
    >>> num_eights(12345)
    0
    >>> from construct_check import check
    >>> # ban all assignment statements
    >>> check(HW_SOURCE_FILE, 'num_eights',
    ...       ['Assign', 'AnnAssign', 'AugAssign', 'NamedExpr'])
    True
    """
    if pos == 0:
        return 0
    return (1 if pos % 10 == 8 else 0) + num_eights(pos // 10)
```

æµ‹è¯•ç»“æžœï¼š![img](https://github.com/Victor-Tau/cs61a/blob/master/%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/figs/hw03/hw3-3.png?raw=True)

---

### 4. **`Ping-pong`**

å‡½æ•°è¦æ±‚ï¼šä¹’ä¹“åºåˆ—ä»Ž 1 å¼€å§‹å‘ä¸Šè®¡æ•°ï¼Œå¹¶ä¸”æ€»æ˜¯å‘ä¸Šæˆ–è€…å‘ä¸‹è®¡æ•°ã€‚åœ¨ç´¢å¼• `k` å¤„ï¼Œå¦‚æžœ `k` æ˜¯ 8 çš„å€æ•°æˆ–è€…åŒ…å«æ•°ä½ 8 åˆ™åˆ‡æ¢æ–¹å‘ã€‚ ä¸‹é¢åˆ—å‡ºäº†ä¹’ä¹“åºåˆ—çš„å‰ 30 ä¸ªå…ƒç´ ï¼Œåœ¨ç¬¬ 8ã€16ã€18ã€24 å’Œ 28 ä¸ªå…ƒç´ å¤„ä½¿ç”¨ä¸­æ‹¬å·æ ‡è®°äº†æ–¹å‘åˆ‡æ¢ã€‚

| Index          | 1    | 2    | 3    | 4    | 5    | 6    | 7    | [8]  | 9    | 10   | 11   | 12   | 13   | 14   | 15   | [16] | 17   | [18] | 19   | 20   | 21   | 22   | 23   |
| :------------- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| PingPong Value | 1    | 2    | 3    | 4    | 5    | 6    | 7    | [8]  | 7    | 6    | 5    | 4    | 3    | 2    | 1    | [0]  | 1    | [2]  | 1    | 0    | -1   | -2   | -3   |

| Index (cont.)  | [24] | 25   | 26   | 27   | [28] | 29   | 30   |
| :------------- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| PingPong Value | [-4] | -3   | -2   | -1   | [0]  | -1   | -2   |

å®žçŽ°å‡½æ•° `pingpong`ï¼Œè¯¥å‡½æ•°è¿”å›žä¹’ä¹“åºåˆ—çš„ç¬¬ n ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ä¸ä½¿ç”¨ä»»ä½•èµ‹å€¼è¯­å¥ã€‚

ä½ å¯ä»¥ä½¿ç”¨ä¸Šä¸€ä¸ªé—®é¢˜ä¸­å®šä¹‰çš„ `num_eights` å‡½æ•°

**æ³¨æ„ï¼š** ä½¿ç”¨é€’å½’ï¼›å¦‚æžœä½¿ç”¨ä»»ä½•èµ‹å€¼è¯­å¥ï¼Œåˆ™æµ‹è¯•å°†å¤±è´¥ã€‚ï¼ˆä½†ä½ å¯ä»¥å°½ç®¡ä½¿ç”¨å‡½æ•°å®šä¹‰ï¼‰

> **æç¤ºï¼š**å¦‚æžœé‡åˆ°å›°éš¾ï¼Œè¯·é¦–å…ˆå°è¯•ä½¿ç”¨èµ‹å€¼è¯­å¥å’Œ `while` è¯­å¥å®žçŽ° `pingpong`ã€‚ç„¶åŽå°†å…¶è½¬æ¢ä¸ºé€’å½’ï¼Œç¼–å†™ä¸€ä¸ªå¸®åŠ©å‡½æ•°ï¼ˆhelper functionï¼‰ï¼Œè¯¥å‡½æ•°å¯¹äºŽåœ¨ while å¾ªçŽ¯ä½“æ”¹å˜äº†å€¼å¾—æ¯ä¸ªå˜é‡éƒ½å¯¹åº”æœ‰ä¸€ä¸ªå‚æ•°ã€‚
>
> **æç¤ºï¼š**æˆ‘ä»¬éœ€è¦è·Ÿè¸ªä¸€äº›ä¿¡æ¯ã€‚å…¶ä¸­ä¸€ä¸ªç»†èŠ‚æ˜¯å‰è¿›çš„æ–¹å‘ï¼ˆå¢žåŠ æˆ–è€…å‡å°‘ï¼‰ã€‚åŸºäºŽä¸Šé¢çš„æç¤ºï¼Œè€ƒè™‘å¦‚ä½•åœ¨å¯¹å¸®åŠ©å‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹ä¸­è·Ÿè¸ªæ–¹å‘ã€‚

**ä»£ç å®žçŽ°**ï¼š

```python
def pingpong(n):
    """Return the nth element of the ping-pong sequence.

    >>> pingpong(8)
    8
    >>> pingpong(10)
    6
    >>> pingpong(15)
    1
    >>> pingpong(21)
    -1
    >>> pingpong(22)
    -2
    >>> pingpong(30)
    -2
    >>> pingpong(68)
    0
    >>> pingpong(69)
    -1
    >>> pingpong(80)
    0
    >>> pingpong(81)
    1
    >>> pingpong(82)
    0
    >>> pingpong(100)
    -6
    >>> from construct_check import check
    >>> # ban assignment statements
    >>> check(HW_SOURCE_FILE, 'pingpong',
    ...       ['Assign', 'AnnAssign', 'AugAssign', 'NamedExpr'])
    True
    """
    def helper(index, value, step):
        if index == n:
            return value
        if index % 8 == 0 or '8' in str(index):
            return helper(index + 1, value - step, -step)
        return helper(index + 1, value + step, step)
    return helper(1, 1, 1)
```

æµ‹è¯•ç»“æžœï¼š![img](https://github.com/Victor-Tau/cs61a/blob/master/%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/figs/hw03/hw3-4.png?raw=True)

---

### 5. **`Count coins`**

å‡½æ•°è¦æ±‚ï¼šç»™å®šä¸€ä¸ªæ­£æ•´æ•° `change`ï¼Œä¸€ç»„ç¡¬å¸å¦‚æžœå®ƒä»¬çš„å’Œæ˜¯ `change` å°±å¯ä»¥ç”¨äºŽæ¢é’±æ‰¾é›¶ã€‚è¿™é‡Œä½¿ç”¨æ ‡å‡†çš„ç¾Žåˆ†ï¼š1ï¼Œ 5ï¼Œ 10ï¼Œ 25ã€‚ä¾‹å¦‚ï¼Œ`15` å¯ä»¥æ¢æˆï¼š

- 15 ä¸ª 1 ç¾Žåˆ†ç¡¬å¸
- 10 ä¸ª 1 ç¾Žåˆ†ï¼Œ1ä¸ª 5 ç¾Žåˆ†ç¡¬å¸
- 5 ä¸ª 1 ç¾Žåˆ†ï¼Œ 2 ä¸ª 5 ç¾Žåˆ†ç¡¬å¸
- 5 ä¸ª 1 ç¾Žåˆ†ï¼Œ 1 ä¸ª 10 ç¾Žåˆ†ç¡¬å¸
- 3 ä¸ª 5 ç¾Žåˆ†ç¡¬å¸
- 1 ä¸ª 5 ç¾Žåˆ†ï¼Œ 1 ä¸ª 10 ç¾Žåˆ†ç¡¬å¸

å› æ­¤ï¼Œæœ‰ 6 ç§æ–¹æ³•å¯ä»¥å¯¹ `15`  æ¢é’±æ‰¾é›¶ã€‚ç¼–å†™ä¸€ä¸ª**é€’å½’**å‡½æ•°ï¼Œè¯¥å‡½æ•°æŽ¥å—ä¸€ä¸ªæ­£æ•´æ•° `change` ï¼Œå¹¶è¿”å›žä½¿ç”¨ç¡¬å¸è¿›è¡Œæ¢é’±æ‰¾é›¶çš„æ–¹æ³•æ•°é‡ã€‚

ä½ å¯ä»¥ç›´æŽ¥ä½¿ç”¨ä¸‹é¢ä¾›ä½ ä½¿ç”¨çš„å‡½æ•°ï¼š

- `get_larger_coin` å°†æ ¹æ®è¾“å…¥è¿”å›žä¸‹ä¸€ä¸ªè¾ƒå¤§çš„ç¡¬å¸é¢é¢ï¼Œå³ `get_larger_coin(5)`æ˜¯ `10`ã€‚
- `get_smaller_coin` å°†æ ¹æ®è¾“å…¥è¿”å›žä¸‹ä¸€ä¸ªè¾ƒå°çš„ç¡¬å¸é¢é¢ï¼Œå³ `get_smaller_coin(5)` æ˜¯ `1`ã€‚

è§£å†³é—®é¢˜çš„é€”å¾„æœ‰ä¸¤ç§ã€‚ä¸€ç§æ˜¯ä½¿ç”¨ `get_larger_coin`ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ `get_smaller_coin`ã€‚

**æ³¨æ„**ï¼šä½¿ç”¨é€’å½’ï¼›å¦‚æžœä½¿ç”¨å¾ªçŽ¯ï¼Œæµ‹è¯•å°†å¤±è´¥ã€‚

**ä»£ç å®žçŽ°**ï¼š

```python
def get_larger_coin(coin):
    """Returns the next larger coin in order.
    >>> get_larger_coin(1)
    5
    >>> get_larger_coin(5)
    10
    >>> get_larger_coin(10)
    25
    >>> get_larger_coin(2) # Other values return None
    """
    if coin == 1:
        return 5
    elif coin == 5:
        return 10
    elif coin == 10:
        return 25


def get_smaller_coin(coin):
    """Returns the next smaller coin in order.
    >>> get_smaller_coin(25)
    10
    >>> get_smaller_coin(10)
    5
    >>> get_smaller_coin(5)
    1
    >>> get_smaller_coin(2) # Other values return None
    """
    if coin == 25:
        return 10
    elif coin == 10:
        return 5
    elif coin == 5:
        return 1


def count_coins(change):
    """Return the number of ways to make change using coins of value of 1, 5, 10, 25.
    >>> count_coins(15)
    6
    >>> count_coins(10)
    4
    >>> count_coins(20)
    9
    >>> count_coins(100) # How many ways to make change for a dollar?
    242
    >>> count_coins(200)
    1463
    >>> from construct_check import check
    >>> # ban iteration
    >>> check(HW_SOURCE_FILE, 'count_coins', ['While', 'For'])
    True
    """
    def count_partitions(n, m):
        if n == 0:
            return 1
        if n < 0 or m is None:
            return 0
        return count_partitions(n - m, m) + count_partitions(n, get_smaller_coin(m))
    
    return count_partitions(change, 25)
```

æµ‹è¯•ç»“æžœï¼š![img](https://github.com/Victor-Tau/cs61a/blob/master/%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/figs/hw03/hw3-5.png?raw=True)

---

### äº” å®žéªŒå¿ƒå¾—
ä»£ç è¾ƒä¸ºç®€æ˜“ï¼Œä½¿ç”¨condaæ–°å»ºçŽ¯å¢ƒpython=3.10ï¼Œè¿è¡Œæ­£å¸¸ã€‚å®žéªŒæŠ¥å‘Šä½¿ç”¨vscodeå®‰è£…markdownæ’ä»¶ç¼–å†™ã€‚ä½œä¸šä»£ç å·²å…¨éƒ¨æ‰˜ç®¡åˆ°github


